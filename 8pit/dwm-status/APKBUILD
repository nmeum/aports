# Contributor: Sören Tempel <soeren+alpine@soeren-tempel.net>
# Maintainer: Sören Tempel <soeren+alpine@soeren-tempel.net>
pkgname=dwm-status
pkgver=20170511
pkgrel=0
pkgdesc="Yet another stupid dwm status tool"
url="https://github.com/nmeum/dwm-status"
arch="all"
license="WTFPL"
depends=""
depends_dev=""
makedepends="tinyalsa-dev libx11-dev"
install=""
options="!check"
subpackages=""
source="$pkgname-$pkgver.tar.gz::https://github.com/nmeum/$pkgname/archive/$pkgver.tar.gz
	config.h"

builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	# Copy our custom configuration file.
	cp "$srcdir"/config.h "$builddir"/config.h || return 1
}

build() {
	make X11INC=/usr/include/X11 \
		X11LIB=/usr/lib/X11 \
		-C "$builddir" || return 1
}

package() {
	install -Dm755 "$builddir"/$pkgname \
		"$pkgdir"/usr/bin/$pkgname || return 1
}

sha512sums="5cf429f31788accbbfc4829ec279a941e8f4411cdd772aa7e112958151117ec2f3611536bb8b9f37a327e40287de4f567fa53833916f28f7f38c5913e52ec616  dwm-status-20170511.tar.gz
6b8900c0c29c26f475ea28b292d9ae1d516f5c27e97ffb452c69ca896ff29683ddefa9d40e558da040346aa7a12509e0c7a1037a69f3b7558ec65eaeeeabd4ea  config.h"
