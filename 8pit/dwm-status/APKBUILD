# Contributor: Sören Tempel <soeren+alpine@soeren-tempel.net>
# Maintainer: Sören Tempel <soeren+alpine@soeren-tempel.net>
pkgname=dwm-status
pkgver=20170511
pkgrel=0
pkgdesc="Yet another stupid dwm status tool"
url="https://github.com/nmeum/dwm-status"
arch="all"
license="WTFPL"
depends=""
depends_dev=""
makedepends="tinyalsa-dev libx11-dev"
install=""
options="!check"
subpackages=""
source="$pkgname-$pkgver.tar.gz::https://github.com/nmeum/$pkgname/archive/$pkgver.tar.gz
	config.h"

builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	# Copy our custom configuration file.
	cp "$srcdir"/config.h "$builddir"/config.h || return 1
}

build() {
	make X11INC=/usr/include/X11 \
		X11LIB=/usr/lib/X11 \
		-C "$builddir" || return 1
}

package() {
	install -Dm755 "$builddir"/$pkgname \
		"$pkgdir"/usr/bin/$pkgname || return 1
}

sha512sums="5cf429f31788accbbfc4829ec279a941e8f4411cdd772aa7e112958151117ec2f3611536bb8b9f37a327e40287de4f567fa53833916f28f7f38c5913e52ec616  dwm-status-20170511.tar.gz
453ce57b065ed28fe9647f585f1d3e5beaf4df860dce67dc195df0f361ca9504bbd5e6af4b3d635b3e5632d8aaf99fa858deff11ab7deb5ebd86616f8e79cd01  config.h"
