# Contributor: Sören Tempel <soeren+alpine@soeren-tempel.net>
# Maintainer: Sören Tempel <soeren+alpine@soeren-tempel.net>
pkgname=dwm-status
pkgver=20170511
pkgrel=3
pkgdesc="Yet another stupid dwm status tool"
url="https://github.com/nmeum/dwm-status"
arch="all"
license="WTFPL"
depends=""
depends_dev=""
makedepends="tinyalsa-dev libx11-dev"
install=""
options="!check"
subpackages=""
source="$pkgname-$pkgver.tar.gz::https://github.com/nmeum/$pkgname/archive/$pkgver.tar.gz
	0001-Allow-configuration-of-full-current-charge-file-name.patch
	config.h"

builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	default_prepare
	cp "$srcdir"/config.h "$builddir"/config.h || return 1
}

build() {
	make X11INC=/usr/include/X11 \
		X11LIB=/usr/lib/X11 \
		-C "$builddir" || return 1
}

package() {
	install -Dm755 "$builddir"/$pkgname \
		"$pkgdir"/usr/bin/$pkgname || return 1
}

sha512sums="5cf429f31788accbbfc4829ec279a941e8f4411cdd772aa7e112958151117ec2f3611536bb8b9f37a327e40287de4f567fa53833916f28f7f38c5913e52ec616  dwm-status-20170511.tar.gz
3eb47ce580bc712dca8ced684511855ff526fca93bd25aef5c9899535cdf2f780217e1c516fd26a986b153ecdde40cb1872d6c0ce7dc7f2b3e034b500e81a7b3  0001-Allow-configuration-of-full-current-charge-file-name.patch
10d70ae957f5c67b64e4da5b89b698fb42411fb938e62056c58852fcceb7b99990cba8e2a65f0a3e7797a17eda9c6f5caf6093b602d0d3e804d3680e21cd91a9  config.h"
