# Contributor: Gaber Ayoubi <gaber.ayoubi@gmail.com>
# Maintainer: SÃ¶ren Tempel <soeren+alpine@soeren-tempel.net>
pkgname=dwm
pkgver=6.0
pkgrel=6
pkgdesc="dwm - dynamic window manager"
url="http://dwm.suckless.org"
arch="all"
license="MIT/X"
depends=""
depends_dev=""
makedepends="libx11-dev libxinerama-dev"
install=""
subpackages="$pkgname-doc"
source="http://dl.suckless.org/dwm/$pkgname-$pkgver.tar.gz
	XF86keysym.patch
	layout-symbol.patch
	movestack.patch
	fullscreen.patch
	config.h"

_builddir="$srcdir"/dwm-$pkgver
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done

	# Copy our configuration file to the build directory
	cp "$srcdir"/config.h "$_builddir"/config.h || return 1
}

build() {
	make -C "$_builddir" || return 1
}

package() {
	make PREFIX=/usr DESTDIR="$pkgdir" \
		-C "$_builddir" install || return 1
}

md5sums="8bb00d4142259beb11e13473b81c0857  dwm-6.0.tar.gz
f0cd34ea167b3be1d62bc48a2c755f5f  XF86keysym.patch
88a87652533a50a6735d4f1280186542  layout-symbol.patch
5128947c8a0c3cec471c74b9061d2f60  movestack.patch
b38d4b84df7ab2b7a065a4b273bf43f8  fullscreen.patch
284dafc27e27c8ccf9f659d84063bfb0  config.h"
sha256sums="b2b9483de69259eeea56844899bb2385158d3e79a42d82b10c142099fc8eeb56  dwm-6.0.tar.gz
82e1ec591feae6aee1d81f02725a0aacd1f193875f74aa4367aa0012b1dd39bb  XF86keysym.patch
bb8bb171be30797d43e01764847d83f1e7b478452fe22eba3e1115e6379cb1f1  layout-symbol.patch
8bf0657c344aa4b6d13a64f02a210e35089bbd62db605b9e26df428c6acb00e5  movestack.patch
31c068ab06db3e4517a568d9fbb84b38e68d160ddf9c57c258add6a8ded06c3f  fullscreen.patch
2675ca86dbc1a1567d31fe596868dcd8e66cd7239bf482db88c5f1526a6e0201  config.h"
sha512sums="895d1d363b3756c9ba19dbf06af34be753c1ae5971d540113d7f8901ad174c2e5944ef769b43e65f7b700f34832bb24082bc91d999b287610c9925182ce70c00  dwm-6.0.tar.gz
5bf51190f6e20e38847ffd78272a44ea0a62cb89c453360a8a52de87fe561afff90826fee32234a8fbf4bd4bb134d4232691c2aa54ab76df30c3b306296fa946  XF86keysym.patch
79f9f30f71e5b834782fa7d1cf4f14a6f6f20bfe8abb26eda371b2277355650a77e3c2623ad115f44a5e430663e0d1b1ab4e3f1dc4c83c2dd8cb564a26933d1c  layout-symbol.patch
1faa8639d8a5a8385108a0543f47cf720933833bad6aaa5d2612eed3c86fd6036a1acd05e7eb8b0b5e18cafbdabe256100fbde43f371455182f5d62b0203a068  movestack.patch
d262da479e1246c91e320996e1fab5083f3bd051dbf0f4aadc789c5e898280130cd9d4209f62a7e81acfbf3f5f7985ef86e430eeda7d0d8286844d26be603c50  fullscreen.patch
611f5bdbfd5afafb156ad45c98afc326da43b4c79dbab872fab40cb882ed3174364c43ec15b623a3ef6103ebaf1c0cece9d863a267019584fddd355948cfd6ce  config.h"
