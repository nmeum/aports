# Contributor: Gaber Ayoubi <gaber.ayoubi@gmail.com>
# Maintainer: SÃ¶ren Tempel <soeren+alpine@soeren-tempel.net>
pkgname=dwm
pkgver=6.1
pkgrel=3
pkgdesc="dwm - dynamic window manager"
url="http://dwm.suckless.org"
arch="all"
license="MIT/X"
depends=""
depends_dev=""
makedepends="libxft-dev libx11-dev libxinerama-dev"
install=""
subpackages="$pkgname-doc"
source="http://dl.suckless.org/$pkgname/$pkgname-$pkgver.tar.gz
	XF86keysym.patch
	movestack.patch
	fullscreen.patch
	config.h"

builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	cd "$builddir"
	default_prepare || return 1

	cp "$srcdir"/config.h config.h || return 1
	sed -i -e '/CFLAGS/{s/-Os//;s/=/+=/}' \
		-e '/LDFLAGS/{s/-s//;s/=/+=/}' \
		config.mk || return 1
}

build() {
	make X11INC=/usr/include/X11 \
		X11LIB=/usr/lib/X11 \
		FREETYPEINC=/usr/include/freetype2 \
		-C "$builddir" || return 1
}

package() {
	make PREFIX=/usr DESTDIR="$pkgdir" \
		-C "$builddir" install || return 1
}

md5sums="f0b6b1093b7207f89c2a90b848c008ec  dwm-6.1.tar.gz
73859894229db398858da6ec4e2099c7  XF86keysym.patch
5128947c8a0c3cec471c74b9061d2f60  movestack.patch
90b2516664c9caae8b5895a13f14ecb9  fullscreen.patch
63067363fc45a77ce016df2ca84b1071  config.h"
sha256sums="c2f6c56167f0acdbe3dc37cca9c1a19260c040f2d4800e3529a21ad7cce275fe  dwm-6.1.tar.gz
35a5710617324aea720a86bf975a6ee352c5c1a3760b4a5aa5a4b1cce31a1041  XF86keysym.patch
8bf0657c344aa4b6d13a64f02a210e35089bbd62db605b9e26df428c6acb00e5  movestack.patch
a15f3d6209950c178ab7f026787313d759bb80e5121dc3bcc590634df33a3c4e  fullscreen.patch
9b4407b5b6363f9cfcaab51a320f7c023842d6b0407e9b2abadf2b79c34dd2d2  config.h"
sha512sums="875644bbc246088f2c87e50debbadd4bc179444b396b1b327149087e8bc5303325ebc9103a7e3c864266ee1ac683ea3cd8f0a08285c8e46fc4389d5b83a555f1  dwm-6.1.tar.gz
236058497dcedbcd490ca79739ce0ce7b96fc7369394486a9809c478b07b54f56b3e49e8201017ab45d4c406ae80771bbc03a27943f15bd52ad373b4da4b200c  XF86keysym.patch
1faa8639d8a5a8385108a0543f47cf720933833bad6aaa5d2612eed3c86fd6036a1acd05e7eb8b0b5e18cafbdabe256100fbde43f371455182f5d62b0203a068  movestack.patch
6751da89d77fcd053503b53a8cc7b03c7d44bde879cb9536be95680a05f7e484b99b1699eda89db33a962250c7a936bbac26abd4a585a087518b93c730163f6d  fullscreen.patch
57d5d7a86e217f781e82e35a1589be6c984fc0e64eadf4233f554a71c5e4f0cf564d7bc847308bae075ffcfd90eeff7ac4f21cb55187d7674645969d391dcca1  config.h"
