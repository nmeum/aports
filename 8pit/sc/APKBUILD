# Contributor: SÃ¶ren Tempel <soeren+alpine@soeren-tempel.net>
# Contributor: ScrumpyJack <scrumpyjack@st.ilet.to>
# Maintainer: ScrumpyJack <scrumpyjack@st.ilet.to>
pkgname=sc
_origver=7.16
_forkver=1.1.1
pkgver=${_origver}.${_forkver}
pkgrel=4
pkgdesc="Speadsheet Calculator"
url="https://github.com/n-t-roff/sc"
arch="all"
license="Public Domain"
depends="ncurses"
depends_dev=""
makedepends="ncurses-dev bison"
install=""
options="!check"
subpackages="$pkgname-doc"
source="https://github.com/n-t-roff/sc/archive/${_origver}_${_forkver}.tar.gz"

builddir="$srcdir/$pkgname-${_origver}_${_forkver}"
build() {
	cd "$builddir"
	./configure
	make
}

package() {
	cd "$builddir"
	make prefix="$pkgdir"/usr \
		MANDIR="$pkgdir/usr/share/man" \
		install

	install -Dm644 tutorial.sc \
		"$pkgdir"/usr/share/doc/$pkgname/examples/tutorial.sc
	install -m644 CHANGES CHANGES-git README \
		README.md VMS_NOTES SC.MACROS TODO \
		"$pkgdir"/usr/share/doc/$pkgname/
}

sha512sums="1a155eddc56960c430fd136e55efc2df897d2866866d329efb722506b6a93954f85fa872a5cff44d0ab906e2f2d7eabb5f32d3325a32c8b8a1515c5b3b4c14ed  7.16_1.1.1.tar.gz"
